@page
@model Client_MilkForKidsStore.Pages.ProductPage.ProductListModel
@{
}
<!-- Products Start -->
<div class="container-fluid py-5">
    <div class="container">
        <div class="border-start border-5 border-primary ps-5 mb-5" style="max-width: 600px;">
            <h6 class="text-primary text-uppercase">Products</h6>
            <h1 class="display-5 text-uppercase mb-0">Products For Mom And Their Kid</h1>
        </div>
        <!-- Search Input -->
        <form method="get" asp-page="ProductList">
            <div class="row mb-4">
                <div class="col-md-9">
                    <input type="text" name="search" class="form-control" placeholder="Search for products..." value="@Request.Query["search"]">
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-primary w-100">Search</button>
                </div>
            </div>
        </form>
        <div class="row">
            @foreach (var item in Model.Products)
            {
                <div class="col-lg-4 col-md-6 mb-5">
                    <div class="product-item position-relative bg-light d-flex flex-column text-center">
                        @if (item.Images != null && item.Images.Any())
                        {
                            <img class="img-fluid mb-4" src="data:image/png;base64,@item.Images.First().ImageProduct1" alt="Product Image">
                        }
                        else
                        {
                            <img class="img-fluid mb-4" src="~/img/default_milk.jpg" alt="Default Milk Image">
                        }
                        <h6 class="text-uppercase">@item.ProductName</h6>
                        <h5 class="text-primary mb-0">@item.ProductPrice VND</h5>
                        <div class="btn-action d-flex justify-content-center">
                            <a class="btn btn-primary py-2 px-3" href="/ProductPage/ProductDetail?id=@item.ProductId"><i class="bi bi-eye"></i></a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<!-- Products End -->
